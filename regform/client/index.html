<html>
	<head>
		<title>My First Components</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

		<script src="https://fb.me/react-0.14.0.js"></script>
		<script src="https://fb.me/react-dom-0.14.0.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.25/browser.min.js"></script>

	</head>
	<body>
		<div class="container">
			<div class="row">
				<div class="col-md-4 col-md-offset-4">
					<h1 class="page-header">Register</h1>
					<div id="regform"></div>
				</div>
			</div>
		</div>

		<script type="text/babel">
			var AlertBox = React.createClass({
				
				render: function(){
					return(
						<div className={"alert alert-"+this.props.type}>{this.props.children}</div>
					);
				}
			});

			var RefForm = React.createClass({

				getInitialState: function() {
					return {
						showAlert: false
					}
				},
				register: function(e) {
					e.preventDefault();

					var firstname = this.refs.firstname.value.trim();
					var lastname = this.refs.lastname.value.trim();
					var email = this.refs.email.value.trim();
					

					if (!firstname || !lastname || !email ) {

						this.setState({showAlert: true});
						return;	
					}

					alert("Thank you"+firstname+" "+lastname+" For registering " + " " + email);

					this.refs.firstname.value = "";
					this.refs.lastname.value = "";
					this.refs.email.value = "";

				},
				render: function(){
					return (
							<div>
								<form action="" onSubmit={this.register} >
										{this.state.showAlert ? <AlertBox type="danger">Please fill in all fields</AlertBox>:null}
										<div className="form-group">
											<label htmlForm="firstname">First Name:</label>
											<input type="text" className="form-control" placeholder="First Name" ref="firstname"/>
										</div>
										<div className="form-group">
											<label htmlForm="lastname">Last Name:</label>
											<input type="text" className="form-control" placeholder="Lastname" ref="lastname" />
										</div>
										<div className="form-group">
											<label htmlForm="email">Email Address:</label>
											<input type="email" className="form-control" placeholder="Email Address" ref="email"/>
										</div>
										<input type="submit" className="btn btn-primary" value="Submit" />
								</form>
							</div>
						)
				}
			});

			ReactDOM.render(
				<RefForm />,
				document.getElementById('regform')
			);

		</script>

	</body>
</html>